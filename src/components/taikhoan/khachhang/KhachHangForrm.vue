<template >
  <div class="customer-detail">
    <!-- üîπ Thanh n√∫t ch·ª©c nƒÉng -->
    <div class="d-flex justify-content-between align-items-center mb-4">
      <!-- n√∫t ch·ª©c nƒÉng -->
       <div class="d-flex justify-content-center gap-3 mx-auto" style="width: 300px;">
        <button class="btn btn-primary" @click="handleUpdate">
          <i class="fas fa-save me-1"></i> C·∫≠p nh·∫≠t
        </button>
        <button class="btn btn-success" @click="handleSaveAndNew">
          <i class="fas fa-plus me-1"></i> L∆∞u & th√™m m·ªõi
        </button>
      </div>
       <!-- B√™n ph·∫£i: T·ªïng chi ti√™u -->
      <div class="text-end mx-auto" style="width: 250px;">
        <label class="form-label mb-1 fw-bold">T·ªïng chi ti√™u:</label>
        <div class="fs-3 fw-bold text-danger">
          <!-- {{ formatCurrency(form.totalSpent) }} -->
            900000
        </div>
      </div>

    </div>

    <!-- üî∏ Form th√¥ng tin kh√°ch h√†ng -->
    <div class="row gy-2 gx-3 align-items-start">
      <!-- C·ªôt tr√°i -->
      <div class="col-md-6">
        <div class="mb-3">
          <label class="form-label">H·ªç t√™n</label>
          <input type="text" class="form-control" placeholder="H·ªç t√™n" v-model="form.name" />
        </div>

        <div class="mb-3">
          <label class="form-label">S·ªë ƒëi·ªán tho·∫°i</label>
          <input type="text" class="form-control" placeholder="S·ªë ƒëi·ªán tho·∫°i" v-model="form.phone" />
        </div>

        <div class="mb-3">
          <label class="form-label">Email</label>
          <input type="email" class="form-control" placeholder="name@example.com" v-model="form.email" />
        </div>

        <div class="mb-3">
          <div class="card">
      <div class="card-body">
        <div class="d-flex justify-content-between align-items-center mb-3">
          <h6 class="fw-bold mb-0">
            <i class="fas fa-map-marker-alt me-1 text-success"></i> Qu·∫£n l√Ω ƒë·ªãa ch·ªâ
            <span class="badge bg-light text-dark ms-2">0 ƒë·ªãa ch·ªâ</span>
          </h6>
          <button class="btn btn-success btn-sm">Th√™m ƒë·ªãa ch·ªâ</button>
        </div>
        <div class="border rounded p-4 text-center text-muted" style="border-style: dashed;">
          <i class="fas fa-map-marker-alt fa-2x mb-2"></i>
          <p class="mb-2">Ch∆∞a c√≥ ƒë·ªãa ch·ªâ n√†o</p>
          <button class="btn btn-success btn-sm">Th√™m ƒë·ªãa ch·ªâ ngay</button>
        </div>
      </div>
    </div>
  </div>
       


      </div>

      <!-- C·ªôt ph·∫£i -->
      <div class="col-md-6">
        <div class="mb-4">
          <label class="form-label">Tr·∫°ng th√°i</label>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="trangThai" id="statusRetail" v-model="form.status.retail" />
            <label class="form-check-label" for="statusRetail">Kh√°ch l·∫ª</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio"  name="trangThai" id="statusLoyal" v-model="form.status.loyal" />
            <label class="form-check-label" for="statusLoyal">Kh√°ch quen</label>
          </div>
        </div>

       <div class="mb-4">
  <label class="form-label">Gi·ªõi t√≠nh</label>
  <div>
    <div class="form-check form-check-inline">
      <input class="form-check-input" type="radio" id="genderMale" value="Nam" name="gioiTinh" v-model="form.gender" />
      <label class="form-check-label" for="genderMale">Nam</label>
    </div>
    <div class="form-check form-check-inline">
      <input class="form-check-input" type="radio" id="genderFemale" value="N·ªØ" name="gioiTinh" v-model="form.gender" />
      <label class="form-check-label" for="genderFemale">N·ªØ</label>
    </div>
  </div>
</div>
<div class="mb-3">
          <label class="form-label">Ng√†y Sinh</label>
          <input type="date" class="form-control" placeholder="S·ªë ƒëi·ªán tho·∫°i" v-model="form.phone" />
        </div>

          <div class="mb-3">
          <label class="form-label">Ghi ch√∫</label>
          <textarea class="form-control" rows="2" v-model="form.note"></textarea>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  name: 'KhachHangForrm',
   props: ['data'],


  data() {
    return {
      form: {
        name: '',
        phone: '',
        email: '',
        address: '',
        note: '',
        gender: 'N·ªØ',
        totalSpent: 0,
        status: {
          retail: false,
          loyal: false
        }
      }
    }
  },
    mounted() {
    // Clone d·ªØ li·ªáu ƒë·ªÉ tr√°nh s·ª≠a tr·ª±c ti·∫øp prop
    this.form = { ...this.data }
  },
  methods: {
    handleUpdate() {
      // G·ª≠i d·ªØ li·ªáu l√™n server ho·∫∑c emit event
      console.log('C·∫≠p nh·∫≠t kh√°ch h√†ng:', this.form)
      alert('ƒê√£ c·∫≠p nh·∫≠t th√¥ng tin kh√°ch h√†ng!')
    },
    handleSaveAndNew() {
      console.log('L∆∞u kh√°ch h√†ng:', this.form)
      alert('ƒê√£ l∆∞u v√† chu·∫©n b·ªã th√™m m·ªõi!')
      // Reset form v·ªÅ r·ªóng
      this.form = {
        name: '',
        phone: '',
        email: '',
        address: '',
        note: '',
        gender: 'N·ªØ',
        totalSpent: 0,
        status: {
          retail: false,
          loyal: false
        }
      }
    }
  }

}

</script>

<style scoped>
.form-label {
  font-weight: 500;
  font-size: 0.9rem;
}
</style>
