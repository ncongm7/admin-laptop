# Hướng Dẫn Sử Dụng - Module Bán Hàng Tại Quầy

## Mục lục

1. [Tạo hóa đơn mới](#1-tạo-hóa-đơn-mới)
2. [Thêm sản phẩm vào hóa đơn](#2-thêm-sản-phẩm-vào-hóa-đơn)
3. [Quản lý khách hàng](#3-quản-lý-khách-hàng)
4. [Áp dụng voucher và sử dụng điểm](#4-áp-dụng-voucher-và-sử-dụng-điểm)
5. [Thanh toán](#5-thanh-toán)
6. [In hóa đơn](#6-in-hóa-đơn)
7. [Các chức năng nâng cao](#7-các-chức-năng-nâng-cao)

---

## 1. Tạo hóa đơn mới

### Cách thực hiện:

1. Click nút **"Tạo Đơn Mới"** ở góc trên bên phải
2. Hệ thống tự động tạo hóa đơn mới và chọn hóa đơn đó
3. Bạn có thể tạo tối đa **10 hóa đơn chờ** cùng lúc

### Lưu ý:

- Nếu đã đạt giới hạn 10 hóa đơn, bạn cần thanh toán hoặc xóa bớt hóa đơn chờ
- Hóa đơn mới sẽ tự động được lưu tạm (draft)

---

## 2. Thêm sản phẩm vào hóa đơn

### Cách 1: Tìm kiếm thủ công

1. Nhập tên hoặc mã sản phẩm vào ô tìm kiếm
2. Chọn sản phẩm từ danh sách kết quả
3. Chọn biến thể sản phẩm (màu sắc, cấu hình...)
4. Nhập số lượng (không được vượt quá tồn kho)
5. Click **"Xác nhận"** để thêm vào hóa đơn

### Cách 2: Quét mã vạch/QR

1. Click nút **quét mã** (biểu tượng camera) trên thanh tìm kiếm
2. Đưa mã vạch/QR vào khung camera
3. Hệ thống tự động tìm sản phẩm và thêm vào hóa đơn (số lượng = 1)

### Cách 3: Tìm kiếm nâng cao

1. Click nút **"Tìm kiếm nâng cao"** (biểu tượng phễu)
2. Thiết lập các bộ lọc:
   - Từ khóa
   - Khoảng giá
   - Tình trạng tồn kho
   - Sắp xếp
3. Có thể lưu bộ lọc yêu thích để dùng lại
4. Click **"Tìm kiếm"**

### Phím tắt:

- `Ctrl+F`: Mở tìm kiếm nâng cao
- `Enter`: Chọn sản phẩm đầu tiên trong kết quả
- `D`: Xem chi tiết sản phẩm đầu tiên

---

## 3. Quản lý khách hàng

### Tìm kiếm khách hàng:

1. Nhập số điện thoại hoặc tên vào ô tìm kiếm trong phần **"Thông tin khách hàng"**
2. Chọn khách hàng từ danh sách kết quả
3. Khách hàng sẽ được gán vào hóa đơn hiện tại

### Tạo khách hàng mới:

1. Click **"Thêm khách hàng mới"**
2. Điền thông tin khách hàng (tên, SĐT, email...)
3. Click **"Lưu"**
4. Khách hàng mới sẽ tự động được gán vào hóa đơn

### Xóa khách hàng:

- Click nút **"X"** bên cạnh tên khách hàng để xóa

---

## 4. Áp dụng voucher và sử dụng điểm

### Áp dụng voucher:

1. Trong phần **"Chi tiết hóa đơn"**, click **"Chọn Khuyến Mãi"**
2. Hệ thống sẽ gợi ý các voucher phù hợp
3. Chọn voucher muốn áp dụng
4. Tổng tiền sẽ tự động được cập nhật

### Xóa voucher:

- Click nút **"X"** bên cạnh voucher đã áp dụng

### Sử dụng điểm tích lũy:

1. Tích vào checkbox **"Dùng điểm tích lũy"** (chỉ hiện khi khách hàng có điểm)
2. Điểm sẽ được quy đổi thành tiền và trừ vào tổng tiền
3. Bỏ tích để hủy sử dụng điểm

---

## 5. Thanh toán

### Quy trình thanh toán:

1. **Kiểm tra hóa đơn**: Đảm bảo đã có sản phẩm và thông tin đúng
2. Click nút **"THANH TOÁN"** trong phần chi tiết hóa đơn
3. **Chọn phương thức thanh toán**: Tiền mặt, Chuyển khoản, Thẻ...
4. **Quét Serial/IMEI** (BẮT BUỘC):
   - Với mỗi sản phẩm, quét đủ số lượng serial tương ứng
   - Có thể quét bằng camera hoặc nhập thủ công
   - Hệ thống sẽ phát âm thanh khi quét thành công
5. **Nhập số tiền khách đưa** (nếu là tiền mặt)
6. **Xem preview hóa đơn** trước khi xác nhận
7. Click **"Xác nhận thanh toán"**

### Lưu ý quan trọng:

- ⚠️ **Serial/IMEI là bắt buộc** - không thể thanh toán nếu chưa quét đủ serial
- Hệ thống sẽ tự động focus vào ô nhập serial tiếp theo sau mỗi lần quét
- Có thể xem danh sách serial khả dụng bằng cách click nút danh sách

---

## 6. In hóa đơn

### In hóa đơn đã thanh toán:

1. Trong **"Lịch sử giao dịch"**, tìm hóa đơn cần in
2. Click nút **"In lại hóa đơn"** (biểu tượng máy in)
3. Hệ thống sẽ mở hộp thoại in hoặc tải file PDF

### In hóa đơn chờ:

1. Trong phần **"Chi tiết hóa đơn"**, click nút **"In hóa đơn"**
2. Hệ thống sẽ mở hộp thoại in hoặc preview

---

## 7. Các chức năng nâng cao

### 7.1. Xem chi tiết sản phẩm

1. Trong kết quả tìm kiếm, click nút **"Chi tiết"**
2. Modal hiển thị:
   - Ảnh sản phẩm
   - Thông số kỹ thuật
   - Giá và tồn kho
   - Danh sách biến thể
3. Có thể chọn biến thể trực tiếp từ modal

### 7.2. Sửa số lượng sản phẩm

1. Trong danh sách sản phẩm của hóa đơn, click nút **"Sửa"** (biểu tượng bút chì)
2. Nhập số lượng mới
3. Click **"Xác nhận"**

**Phím tắt**: `E` (khi focus vào hóa đơn)

### 7.3. Copy hóa đơn

1. Trong danh sách hóa đơn chờ, click nút **"Copy"** (biểu tượng file)
2. Xác nhận copy
3. Hóa đơn mới sẽ được tạo với cùng sản phẩm và khách hàng

### 7.4. Lưu hóa đơn tạm (Draft)

- Hệ thống tự động lưu draft mỗi 30 giây
- Có thể lưu thủ công bằng cách click **"Lưu tạm"**
- Hóa đơn draft sẽ được khôi phục khi reload trang

### 7.5. Lịch sử giao dịch

1. Xem danh sách 10 giao dịch gần nhất
2. Tìm kiếm hóa đơn theo mã
3. Xem chi tiết hóa đơn đã thanh toán
4. In lại hóa đơn

### 7.6. Thống kê bán hàng nhanh

- Xem doanh thu trong ngày
- Số đơn đã bán
- Top sản phẩm bán chạy
- Biểu đồ doanh thu theo giờ

### 7.7. Giảm giá đặc biệt (Chỉ dành cho quản lý)

**Lưu ý**: Chỉ ADMIN, QUẢN LÝ, TRƯỞNG CA mới có quyền sử dụng tính năng này.

1. Trong danh sách sản phẩm của hóa đơn, click nút **"Giảm giá đặc biệt"** (biểu tượng tag) bên cạnh sản phẩm
2. Chọn loại giảm giá:
   - **Theo phần trăm**: Nhập % giảm (0-100%)
   - **Theo số tiền**: Nhập số tiền giảm (không vượt quá giá gốc)
3. Nhập **lý do giảm giá** (bắt buộc, tối thiểu 10 ký tự)
4. Xem **giá sau giảm** được tính tự động
5. Click **"Xác nhận giảm giá"**

**Lưu ý**:
- Giảm giá > 50% cần xác nhận từ quản lý
- Tất cả thay đổi giá đều được ghi log để kiểm tra
- Lý do giảm giá là bắt buộc để đảm bảo minh bạch
2. Chọn loại giảm giá:
   - Giảm giá theo sản phẩm (tối đa 50% giá sản phẩm)
   - Giảm giá tổng hóa đơn (tối đa 20% tổng tiền)
3. Nhập giá trị giảm
4. **Nhập lý do giảm giá** (bắt buộc, tối thiểu 5 ký tự)
5. Xem preview kết quả
6. Click **"Xác nhận giảm giá"**

---

## Phím tắt tổng hợp

| Phím | Chức năng |
|------|-----------|
| `Ctrl+F` | Mở tìm kiếm nâng cao |
| `Esc` | Đóng modal hiện tại |
| `Enter` | Chọn sản phẩm đầu tiên (khi đang tìm kiếm) |
| `D` | Xem chi tiết sản phẩm đầu tiên |
| `E` | Sửa số lượng sản phẩm đầu tiên |
| `Delete` | Xóa sản phẩm đầu tiên |

---

## Xử lý lỗi thường gặp

### Lỗi: "Đã đạt giới hạn 10 hóa đơn chờ"

**Giải pháp**: Thanh toán hoặc xóa bớt hóa đơn chờ

### Lỗi: "Số lượng vượt quá tồn kho"

**Giải pháp**: Giảm số lượng hoặc chọn sản phẩm khác

### Lỗi: "Chưa quét đủ serial"

**Giải pháp**: Quét đủ số lượng serial cho tất cả sản phẩm trước khi thanh toán

### Lỗi: "Serial không hợp lệ"

**Giải pháp**: Kiểm tra lại serial, đảm bảo đúng format (7-20 ký tự, chữ và số)

### Lỗi: "Không tìm thấy sản phẩm"

**Giải pháp**: 
- Kiểm tra lại từ khóa tìm kiếm
- Thử tìm kiếm nâng cao
- Kiểm tra sản phẩm có còn hàng không

---

## Tips & Tricks

1. **Sử dụng quét mã vạch**: Nhanh hơn tìm kiếm thủ công
2. **Lưu bộ lọc yêu thích**: Tiết kiệm thời gian khi tìm kiếm sản phẩm thường dùng
3. **Copy hóa đơn**: Hữu ích khi khách mua nhiều lần cùng sản phẩm
4. **Keyboard shortcuts**: Tăng tốc độ làm việc
5. **Xem chi tiết sản phẩm**: Kiểm tra thông số trước khi bán

---

## Liên hệ hỗ trợ

Nếu gặp vấn đề, vui lòng liên hệ:
- IT Support: [email/số điện thoại]
- Quản lý: [email/số điện thoại]

